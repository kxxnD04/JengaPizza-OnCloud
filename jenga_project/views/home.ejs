<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <style>
        @font-face {
            font-family: Prompt;
            src: url("fonts/Prompt-Regular.ttf");
        }
        body {
            font-family: Prompt;
            margin: 0;
            padding: 0;
        }
        
        /* Specific adjustments for working with a fixed header */
        .main-content {
            padding-top: 60px; /* Same as header height */
        }
        
        /* Banner carousel styling */
        /* Banner carousel styling - updated for better image fit */
        .banner-carousel {
            position: relative;
            width: 100%;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .banner-container {
            width: 100%;
            position: relative;
            overflow: hidden;
            /* Remove fixed height to prevent cropping */
            height: auto;
            max-height: none;
        }
        
        .banner-slides {
            display: flex;
            width: 300%; /* 3 slides */
            transition: transform 0.5s ease-in-out;
        }
        
        .banner-slide {
            width: 33.333%; /* Each slide takes 1/3 of the container */
            flex-shrink: 0;
        }
        
        .banner-image {
            width: 100%;
            height: auto; /* This is key - let height adjust naturally */
            display: block;
            object-fit: contain; /* Changed from cover to contain */
        }
        
        /* Navigation dots - position relative to image bottom */
        .banner-dots {
            position: absolute;
            bottom: 150px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.5);
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .dot.active {
            background-color: rgb(239, 119, 59);
        }
        
        /* Content section styling */
        .content-section {
            padding: 40px 0;
            background-color: #f5f5f5;
        }
    </style>
</head>

<body>
    <header>
        <%- include('header') %>
    </header>

    <div class="main-content">
        <!-- Banner Carousel -->
        <div class="banner-carousel">
            <div class="banner-container">
                <div class="banner-slides" id="bannerSlides">
                    <div class="banner-slide">
                        <img src="images/home_image1.png" alt="Special Delicious Pizza" class="banner-image">
                    </div>
                    <div class="banner-slide">
                        <img src="images/home_image2.png" alt="Banner 2" class="banner-image">
                    </div>
                    <div class="banner-slide">
                        <img src="images/home_image3.png" alt="Banner 3" class="banner-image">
                    </div>
                </div>
                <!-- Navigation Dots -->
                <div class="banner-dots">
                    <div class="dot active" data-slide="0"></div>
                    <div class="dot" data-slide="1"></div>
                    <div class="dot" data-slide="2"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <%- include('footer') %>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const slides = document.getElementById('bannerSlides');
            const dots = document.querySelectorAll('.dot');
            let currentSlide = 0;
            let slideInterval;
            
            // Function to update the active slide
            function goToSlide(index) {
                // Update slide position
                slides.style.transform = `translateX(-${index * 33.333}%)`;
                
                // Update active dot
                dots.forEach(dot => dot.classList.remove('active'));
                dots[index].classList.add('active');
                
                // Update current slide index
                currentSlide = index;
            }
            
            // Function to advance to the next slide
            function nextSlide() {
                currentSlide = (currentSlide + 1) % 3;
                goToSlide(currentSlide);
            }
            
            // Start the automatic slide rotation
            function startSlideShow() {
                slideInterval = setInterval(nextSlide, 10000); // Change slide every 10 seconds
            }
            
            // Stop the automatic slide rotation
            function stopSlideShow() {
                clearInterval(slideInterval);
            }
            
            // Add click event listeners to the dots
            dots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const slideIndex = parseInt(this.getAttribute('data-slide'));
                    goToSlide(slideIndex);
                    
                    // Reset the timer when a dot is clicked
                    stopSlideShow();
                    startSlideShow();
                });
            });
            
            // Start the slideshow
            startSlideShow();
        });
    </script>
</body>
</html>
